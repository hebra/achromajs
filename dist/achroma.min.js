/*! AchromaJS - v15.4.1 - 2015-04-06
* Copyright (c) 2015 Hendrik Brandt; Licensed Apache, CC-BY-SA */
var achromajs=window.achromajs||{};achromajs.blindnessModes={achromato:{Achromatomaly:"Lacking most color vision",Achromatopsia:"Lacking all color vision (aka color blind)"},prot:{Protanomaly:"poor red-green hue discrimination",Protanopia:"red appears dark"},deuter:{Deuteranomaly:"lightly red-green hue discrimination",Deuteranopia:"moderate red-green hue discrimination"},tritan:{Tritanomaly:"Low blue-yellow hue discrimination",Tritanopia:"Absence of blue retinal receptors"}},achromajs.inject=function(){document.documentElement.className+="ontouchstart"in document.documentElement?" achromajs-touch":"",Array.prototype.slice.call(document.body.childNodes,0).forEach(function(a){"#text"!=a.nodeName&&"#comment"!=a.nodeName&&a.setAttribute("data-achromajs","NORMAL")});var a=document.createElement("div");a.setAttribute("id","ACHROMAJS_CONTAINER");var b=document.createElement("ul");["blur","lowcontrast","highcontrast","invert"].forEach(function(a){var c=document.createElement("li");c.setAttribute("data-achromajs-modus",a),c.addEventListener("click",achromajs.setContrast),b.appendChild(c)});var c=document.createElement("ul"),d=document.createElement("style");d.type="text/css",d.rel="stylesheet",Object.keys(achromajs.blindnessModes).forEach(function(a){var b=document.createElement("li");b.setAttribute("data-achromajs-modus",a),b.addEventListener("click",achromajs.setMode);var d="";Object.keys(achromajs.blindnessModes[a]).forEach(function(a){d+=a+" "}),b.setAttribute("data-achromajs-modus-variants",d),c.appendChild(b)}),a.appendChild(b),a.appendChild(document.createElement("span")),a.appendChild(c);var e=document.createElement("div");e.setAttribute("id","ACHROMAJS_WRAPPER"),e.appendChild(a),document.body.appendChild(e);var f=document.createElement("style");if(f.setAttribute("id","achromajs_BODY_CSS"),f.setAttribute("type","text/css"),f.setAttribute("rel","stylesheet"),window.getComputedStyle){var g=window.getComputedStyle(document.body,null),h=["background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size"];f.innerHTML="body:before{",h.forEach(function(a){f.innerHTML+=a+": "+g.getPropertyValue(a)+";\n"}),f.innerHTML+="}"}document.body.appendChild(f)},achromajs.setMode=function(a){var b=a.target,c=(b.getAttribute("data-achromajs-modus"),b.getAttribute("data-achromajs-selected-variant")),d=b.getAttribute("data-achromajs-modus-variants").split(" ");Array.prototype.slice.call(document.querySelectorAll("[data-achromajs]"),0).forEach(function(a){Object.keys(achromajs.blindnessModes).forEach(function(b){Object.keys(achromajs.blindnessModes[b]).forEach(function(b){a.classList.remove("achromajs-"+b),document.body.classList.remove("achromajs-"+b+"-Body")})}),c=a.getAttribute("data-achromajs"),c==d[1]?a.setAttribute("data-achromajs",""):c==d[0]?(a.classList.add("achromajs-"+d[1]),a.setAttribute("data-achromajs",d[1]),document.body.classList.add("achromajs-"+d[1]+"-Body")):(a.classList.add("achromajs-"+d[0]),a.setAttribute("data-achromajs",d[0]),document.body.classList.add("achromajs-"+d[0]+"-Body"))})},achromajs.setContrast=function(a){var b=a.target,c=b.getAttribute("data-achromajs-modus");Array.prototype.slice.call(document.querySelectorAll("[data-achromajs]"),0).forEach(function(a){if(["blur-1","blur-2","blur-3","lowcontrast","highcontrast","invert"].forEach(function(b){a.classList.remove("achromajs-"+b),document.body.classList.remove("achromajs-"+b+"-Body")}),"blur"==c){var b=1*(a.getAttribute("data-achromajs-blur-level")||"0");if(3>b){var d=b+1;a.classList.add("achromajs-"+c+"-"+d),document.body.classList.add("achromajs-"+c+"-"+d+"-Body"),a.setAttribute("data-achromajs-blur-level",d),document.body.setAttribute("data-achromajs-blur-level",d)}else a.setAttribute("data-achromajs-blur-level",0),document.body.setAttribute("data-achromajs-blur-level",0)}else document.body.getAttribute("achromajs-current-contrast")!=c&&(a.classList.add("achromajs-"+c),document.body.classList.add("achromajs-"+c+"-Body"),a.setAttribute("data-achromajs-blur-level",0),document.body.setAttribute("data-achromajs-blur-level",0))}),document.body.getAttribute("achromajs-current-contrast")!=c?document.body.setAttribute("achromajs-current-contrast",c):document.body.setAttribute("achromajs-current-contrast","")},achromajs.isEnabled=function(){var a=window.location.search.substring(1)?JSON.parse('{"'+window.location.search.substring(1).replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(a,b){return""===a?b:decodeURIComponent(b)}):{};a.achromajs&&"enable"==a.achromajs&&(document.cookie="achromajs="+("enable"==a.achromajs?"enable":"disable")+"; expires=Thu, 31 Dec 2099 12:00:00 UTC; path=/");var b=JSON.parse("{"+document.cookie.replace(/[^=;]+/g,'"$&"').replace(/=/g,":").replace(/;/g,",")+"}");return b.achromajs&&"enable"==b.achromajs},document.addEventListener("DOMContentLoaded",function(a){console.log("Check if achromajs is enabled via URL or cookie."),achromajs.isEnabled()&&(console.log("Injecting achromajs into DOM."),achromajs.inject(),achromajs.webkitSvgPathFix())});var achromajs=window.achromajs||{};achromajs.webkitSvgPathFix=function(){if(navigator.userAgent.toLowerCase().indexOf("webkit")>0){console.log("Adding workaround for Webkit/Blink issues #463119 and #405315");var a=document.querySelector("link[href*='achroma']");if(!a)return void console.error("AchromaJS CSS link not found in DOM.");var b=a.href.replace(/achroma(.*)\.css/g,""),c=document.createElement("style");c.setAttribute("type","text/css"),c.setAttribute("rel","stylesheet"),c.innerHTML+=".achromajs-Achromatomaly, body.achromajs-Achromatomaly-Body:before {",c.innerHTML+="filter: url("+b+"color-filters.svg#Achromatomaly);",c.innerHTML+="-webkit-filter: url("+b+"color-filters.svg#Achromatomaly);}",c.innerHTML+=".achromajs-Achromatopsia, body.achromajs-Achromatopsia-Body:before {",c.innerHTML+="filter: url("+b+"color-filters.svg#Achromatopsia);",c.innerHTML+="-webkit-filter: url("+b+"color-filters.svg#Achromatopsia);}",c.innerHTML+=".achromajs-Protanomaly, body.achromajs-Protanomaly-Body:before {",c.innerHTML+="filter: url("+b+"color-filters.svg#Protanomaly);",c.innerHTML+="-webkit-filter: url("+b+"color-filters.svg#Protanomaly);}",c.innerHTML+=".achromajs-Protanopia, body.achromajs-Protanopia-Body:before {",c.innerHTML+="filter: url("+b+"color-filters.svg#Protanopia);",c.innerHTML+="-webkit-filter: url("+b+"color-filters.svg#Protanopia);}",c.innerHTML+=".achromajs-Deuteranomaly, body.achromajs-Deuteranomaly-Body:before {",c.innerHTML+="filter: url("+b+"color-filters.svg#Deuteranomaly);",c.innerHTML+="-webkit-filter: url("+b+"color-filters.svg#Deuteranomaly);}",c.innerHTML+=".achromajs-Deuteranopia, body.achromajs-Deuteranopia-Body:before {",c.innerHTML+="filter: url("+b+"color-filters.svg#Deuteranopia);",c.innerHTML+="-webkit-filter: url("+b+"color-filters.svg#Deuteranopia);}",c.innerHTML+=".achromajs-Tritanomaly, body.achromajs-Tritanomaly-Body:before {",c.innerHTML+="filter: url("+b+"color-filters.svg#Tritanomaly);",c.innerHTML+="-webkit-filter: url("+b+"color-filters.svg#Tritanomaly);}",c.innerHTML+=".achromajs-Tritanopia, body.achromajs-Tritanopia-Body:before {",c.innerHTML+="filter: url("+b+"color-filters.svg#Tritanopia);",c.innerHTML+="-webkit-filter: url("+b+"color-filters.svg#Tritanopia);}",document.body.appendChild(c)}};